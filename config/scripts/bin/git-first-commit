#!/usr/bin/env -S deno run -A
import { $ } from "npm:zx@lite";

if (await $`git rev-parse`.exitCode !== 0) {
  Deno.exit(1);
}

if (await $`git rev-parse HEAD`.quiet().exitCode === 0) {
  console.error("this is not an empty repository");
  Deno.exit(1);
}

const message = "initial commit";
await $`git commit -m ${message} --allow-empty`;
